:javascript
  function selectRoleType(role){
    jQuery(".current_role").hide();
    jQuery(".current_role").removeClass("current_role");
    jQuery("#default").show();
    jQuery("#default").addClass("current_role");
    //jQuery("#days").hide();
  }
  var form_count = 1
  function new_interval(){
    $('#form_count').val(form_count+=1);
    $('#custom_tf_select').clone().appendTo('#custom_tf_wrapper')
  }

  function update_time_tweet(id, per_day){        
    var time_tweet = $('#days').val();
    jQuery("#loader").show();
    $.get('/update_setting_time?tweet_id=' + id + '&per_day=' + per_day + '&time_tweet=' + time_tweet);
  }

  function checkedBox(val){
    check = jQuery('#check'+val).attr('checked');
    if(check){
      jQuery('#check'+val).removeAttr('checked');
      jQuery('#link'+val).removeClass('active_checkbox_time_setting');
    }else {
      jQuery('#check'+val).attr('checked','checked');
      jQuery('#link'+val).addClass('active_checkbox_time_setting');
    }
  }

=# select_tag "days", options_for_select(Day.collect_days), :onchange => "selectRoleType(this.value);"
= form_for save_time_setting_path do
  %input{:type => "checkbox", :value => "1", :name => "days[]", :id => "check1", :class => "checkbox_time_setting"}
  %input{:type => "checkbox", :value => "2", :name => "days[]", :id => "check2", :class => "checkbox_time_setting"}
  %input{:type => "checkbox", :value => "3", :name => "days[]", :id => "check3", :class => "checkbox_time_setting"}
  %input{:type => "checkbox", :value => "4", :name => "days[]", :id => "check4", :class => "checkbox_time_setting"}
  %input{:type => "checkbox", :value => "5", :name => "days[]", :id => "check5", :class => "checkbox_time_setting"}
  %input{:type => "checkbox", :value => "6", :name => "days[]", :id => "check6", :class => "checkbox_time_setting"}
  %input{:type => "checkbox", :value => "7", :name => "days[]", :id => "check7", :class => "checkbox_time_setting"}

  %a{:href => "#", :onclick => "checkedBox(1);", :id=>"link1"}sun
  %a{:href => "#", :onclick => "checkedBox(2);", :id=>"link2"}mon
  %a{:href => "#", :onclick => "checkedBox(3);", :id=>"link3"}tue
  %a{:href => "#", :onclick => "checkedBox(4);", :id=>"link4"}wed
  %a{:href => "#", :onclick => "checkedBox(5);", :id=>"link5"}thu
  %a{:href => "#", :onclick => "checkedBox(6);", :id=>"link6"}fri
  %a{:href => "#", :onclick => "checkedBox(7);", :id=>"link7"}sat
  %br
  %br
  = select_tag :time_setting_type, options_for_select([["Tweet Smart", 1],["Choose your tweeting time", 2], ["Customize your tweeting time", 3]])
  %br
  %br
  = submit_tag "Save Setting"

#loader
  =image_tag("ajaxLoader.gif")
  %br
  Update time interval
#default{:style => "display:none; position: relative; width: 360px;"}
  .default_tweetsmart{:style => "float: left; border: 2px solid rgb(49, 133, 195); border-radius: 4px 4px 4px 4px; padding: 2px;"}
    Tweet Smart
    =form_tag save_settings_path do
      =hidden_field :timeframe, :user_id, :value => twitter_user.user.id
      =hidden_field :timeframe, :twitter_user_id, :value => twitter_user.id
      //=select_tag "timeframe[timeframe_id]", options_for_select(@tweet_smart)
      - if @myplan.name.eql?("Free")        
        = "1"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"1", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "2"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"2", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "4"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"4", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "6"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"6", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
      - elsif @myplan.name.eql?("Pro")
        = "1"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"1", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "2"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"2", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "4"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"4", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "6"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"6", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
      - elsif @myplan.name.eql?("Premium")
        = "1"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"1", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "2"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"2", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "4"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"4", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
        = "6"
        %input{:type=>"radio", :id=>"update_time", :name=>"day_time", :value=>"6", :onclick=>"update_time_tweet('#{twitter_user.id}', this.value);"} 
      

  .default_interval{:style => "float: left; border: 2px solid rgb(49, 133, 195); border-radius: 4px 4px 4px 4px; padding: 2px;"}
    Choose your tweeting time
    =form_tag save_settings_path do
      =hidden_field :timeframe, :user_id, :value => twitter_user.user.id
      =hidden_field :timeframe, :twitter_user_id, :value => twitter_user.id
      //=select_tag "timeframe[timeframe_id]", options_for_select(@options), :onchange => "if(this.value=='99'){$('#default_timeframe_form_container').hide(); $('#custom_timeframe_form_container').show();}"
      =select_tag "timeframe[timeframe_id]", options_for_select(@options)
      =submit_tag "Update"

  .other_interval{:style => "float: left; border: 2px solid rgb(49, 133, 195); border-radius: 4px 4px 4px 4px; padding: 2px;"}
    Customize your tweeting time
    = form_tag save_settings_path do
      #custom_tf_wrapper
        #custom_tf_select
          =hour_select("tfname[hour][]")
          =minute_select("tfname[minute][]")
          =meridian("tfname[meridian][]")
          %span{:style => "color: #a50000; font-weight: bold; cursor: pointer;", :onclick => "$('#form_count').val(form_count-=1); $(this).parents('#custom_tf_select').remove();"} X
      =hidden_field :timeframe, :timeframe_id, :value => "99"
      =hidden_field :timeframe, :twitter_user_id, :value => twitter_user.id
      =hidden_field_tag :form_count, "1"
      =submit_tag "update"

    %input{:type => "button", :value => "New interval", :onclick => "new_interval();"}
    %input{:value => "Default",:type => "button", :onclick => "$('#custom_timeframe_form_container').hide(); $('#default_timeframe_form_container').show();"}